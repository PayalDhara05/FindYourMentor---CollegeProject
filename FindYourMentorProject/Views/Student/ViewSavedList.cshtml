@model IEnumerable<FindYourMentorProject.Models.SavedList>

@{
    ViewBag.Title = "Saved List";
    Layout = "~/Views/Shared/_StudentLayout.cshtml";
}
<link href="~/Custom/css/SavedList.css" rel="stylesheet" />
<body>
    <form method="get" action="/Student/ViewSavedList">
        <div class="saved-list-filter">
            <label>Filter by Name:- </label>
            <div class="grp-radios">
                <input type="radio" name="searchby" id="" value="ClassName">Class
                <input type="radio" name="searchby" id="" value="CourseName">Course
                <input type="radio" name="searchby" id="" value="MentorName">Mentor
            </div>
            <div class="grp-radios-1">
                <input type="radio" name="searchby" id="" value="MentorName">Mentor<br>
                <input type="radio" name="searchby" id="" value="CourseName">Course<br>
                <input type="radio" name="searchby" id="" value="ClassName">Class<br>
            </div>
        </div>
        <div class="container">
            <div class="search-field">
                <input type="text" id="search" class="form-control" maxlength="150" placeholder="Feel Free to Search ..." onchange="filterAdvert()" name="search">
                <button type="submit"><i class="fas fa-search"></i></button>
            </div>
        </div>
    </form>


    @if (@Model.Count() == 0)
    {
        <div class="no-records-msg">
            <p>No more Courses saved !! Add More</p>
        </div>   
    }
    else
    {
        <div class="all-cards">
            @foreach (var item in Model)
            {

            <div class="indiv-card">
                <div class="course-info">
                    <p>@item.CourseName</p>
                    <i class="far fa-trash-alt" onclick="Del(@item.AdvertisementID)" id="delete_icon" title="Delete this advertisement"></i>
                </div>
                <div class="All-info">
                    <p class="Description">@item.Description</p>
                    <p class="Class-name">@item.ClassName</p>
                    <p class="mentor-name">By Mentor:&nbsp;&nbsp;&nbsp;<span>@item.MentorName</span></p>
                    <div class="add-info">
                        <p class="Address"><span class="Address-title">Address: </span>@item.Address</p>
                        <p class="State"><span class="state-title">State: </span>@item.State</p>
                    </div>
                </div>
                <div class="card-btn">
                    <button>FeedBack & More</button>
                </div>
            </div>

            }
        </div>
    }
</body>

    <script type="text/javascript">

    function Del(id) {

       if (confirm('Are You Sure to Delete this Advertisement from saved list ?')) {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("RemoveFromSavedList", "Student")/' + id,
                    success: function (data) {
                        if (data.success) {
                            $.notify(data.message, {
                                globalPosition: "top center",
                                className: "success"
                            })
                            document.location.reload()
                        }
                    }

                });
            }
        };
    </script>

